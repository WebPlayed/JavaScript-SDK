/*! JavaScript-SDK v1.0.0 - 2015-04-05 
 *  License: GNU v2 */

!function(a){"use strict";function b(){}b.prototype.namespace="",b.prototype.apiKey="",b.prototype.host="https://webplayed.com/",b.prototype.asyncRequests=!0,b.prototype.onReady=null,b.prototype.helpers={},b.prototype.modules={},b.prototype.components={},b.prototype.components.clouddrive={upload:function(a,c,d,e){var f,g=new FormData,h=new XMLHttpRequest;for(f=0;f<d.length;f++)g.append("files[]",d[f]);var i=b.functions.cookie.get("access_token_"+b.appNamespace);h.onload=function(){e(h.responseText)},h.open(c,this.host+"api"+a+"?access_token="+i),h.send(g)}},b.prototype.components.navigation={show:function(){},hide:function(){}},b.prototype.helpers.cookie={get:function(a){var b="; "+document.cookie,c=b.split("; "+a+"=");return 2===c.length?c.pop().split(";").shift():void 0},set:function(a,b,c){var d="";c&&(d="; max-age="+c/1e3),document.cookie=a+"="+b+d+"; path=/"}},b.prototype.helpers.http={ajax:function(){}},b.prototype.helpers.url={getHashValue:function(a){return location.hash.match(new RegExp(a+"=([^&]*)"))[1]},getParameterByName:function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}},b.prototype.api=function(b,c,d,e){var f,g=this.appQuery,h=this.host+"api"+b;return f=a.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),this.async===!0&&(f.onreadystatechange=function(){4===f.readyState&&e(200===f.status?f:400===f.status?!1:!1)}),d=this.functions.objToQuery(d),d&&(g=g+"&"+d),("GET"===c||"DELETE"===c)&&(h=h+"?"+g),f.open(c,h,this.async),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(g),this.async===!1?f.responseText:void 0},b.prototype.init=function(a){this.asyncRequests=a.async,this.namespace=a.namespace,"undefined"!=typeof a.ready&&(this.onReady=a.ready)},b.prototype.modules.authenticate={isAuthenticated:function(){var c=b.helpers.cookie.get("wbp_access_token_"+this.namespace);return""!==a.location.hash?(b.helpers.cookie.set("wbp_access_token_"+b.namespace,b.helpers.url.getHashValue("access_token"),b.helpers.url.getHashValue("expires_in")),!0):null===c||"undefined"==typeof c?!1:!0},authenticate:function(c,d){var e=b.host+"oauth2/authorize?response_type=token&client_id="+b.namespace+"&state=xys";if(d&&(e+="&redirect_uri="+options.redirectUri),e+="&access_token="+b.helpers.url.getParameterByName("server_token"),c){var f=new b.modules.authenticate.authenticateResponse;a.hashUpdate=function(){if(a.loginWindow.closed)a.clearInterval(intervalId),b.helpers.cookie.set("wbp_access_token_"+b.namespace,f.access_token,f.expires_in),b.appQuery=b.functions.objToQuery({access_token:f.access_token}),null!==b.onReady&&b.onReady();else{var c=a.loginWindow.document.URL,d=c.split("#"),e=d[1];if("undefined"!=typeof e){for(var g=e.split("&"),h=0;h<g.length;h++){var i=g[h].split("=");f[i[0]]=i[1]}setTimeout(function(){a.loginWindow.close()},1500)}}},a.loginWindow=a.open(e,"Authenticate Permissions",!1),intervalId=a.setInterval(a.hashUpdate,500)}else a.location.href=e},authenticateResponse:function(){this.access_token=null,this.expires_in=null}},a.WBP=new b}(window);
//# sourceMappingURL=JavaScript-SDK-v1.0.0.min.js.map